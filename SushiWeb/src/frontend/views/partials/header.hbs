<!DOCTYPE html>
<html lang="vi">

<header>
    
    <nav class="header_container">
        <div class="header_left">
            <img class="logo"
                src="../public/sushitransparent.png"
                alt="Sushi Logo" />
            <div>
                <a class="header_left-text" href="/">
                    <span class="logo-text-tokyo">TOKYO</span><span class="logo-text-deli">DELI</span>
                </a>
            </div>
        </div>
        <ul class="nav-links">
            <a href="/">HOME</a>
            <a href="/about">ABOUT</a>
            <a href="/menu">MENU</a>
            <a href="/promotion">PROMOTION</a>
            <a href="/membership">MEMBERSHIP</a>
            <a href="/booking">BOOKING</a>
            <a href="/stores">STORES</a>
            <a href="/contact">CONTACT</a>
            <a href="/cart">
                <button class="cart-button">
                    <img src="https://img.icons8.com/ios-filled/50/000000/shopping-cart.png" alt="Cart Icon">
                </button>
            </a>
            <!-- Added Order button here -->
            <a href="/order">
                <button class="order-button">
                    <img src="https://icons.veryicon.com/png/o/business/cloud-shop-sales-management-end-sales-user/order-receiving.png"
                        alt="Order Icon">
                </button>
            </a>
            <a href="/payment">
                <button class="payment-button">
                    <img src="https://cdn-icons-png.flaticon.com/512/4827/4827568.png" alt="Payment Icon">
                </button>
            </a>
        </ul>
    </nav>
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        const membershipLink = document.querySelector('a[href="/membership"]'); // Adjust selector as needed

        if (membershipLink) {
            membershipLink.addEventListener("click", async (event) => {
                event.preventDefault(); // Prevent the default navigation behavior

                try {
                    const response = await fetch("/membership", { method: "GET" });

                    if (response.status === 401) {
                        const data = await response.json();
                        alert(data.message);
                        window.location.href = data.redirectUrl; // Redirect to the login page
                    } else if (response.status === 200) {
                        window.location.href = "/membership"; // Navigate to membership page if authorized
                    } else {
                        throw new Error("Unexpected error occurred.");
                    }
                } catch (error) {
                    console.error("Error accessing membership page:", error);
                }
            });
        }
    });
</script>
</header>

<style>
    .header_left {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        gap: 20px;
        align-items: center;
    }

    .header_left-text {
        text-decoration: none;
    }

    .logo {
        width: 70px;
        overflow: hidden;
        position: relative;
        object-fit: cover;
    }

    .logo img {
        width: 100%;
        height: 100%;
        object-fit: contain;
    }

    .nav-links {
        list-style: none;
        display: flex;
        justify-content: space-between;
        gap: 20px;
        font-weight: 400;
        font-size: 15px;
    }

    .nav-links a {
        color: #353535;
        text-decoration: none;
        transition: font-weight 0.5s, color 0.5s;
        justify-content: center;
        display: flex;
        flex-direction: column;
        ;
    }

    .nav-links a:hover {
        color: #EA252C;
        font-weight: 700;
    }

    .nav-links a:active {
        color: #bf0006;
        font-weight: 700;
    }

    .nav-links li {}

    .header_container {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .cart-button,
    .order-button,
    .payment-button {
        background-color: white;
        border: none;
        cursor: pointer;
        width: 40px;
        height: 40px;
        transition: background-color 0.5s;
        border-radius: 25px;
    }

    .cart-button img,
    .order-button img,
    .payment-button img {
        width: 60%;
        height: 60%;
        object-fit: contain;
    }

    .cart-button:hover,
    .order-button:hover,
    .payment-button:hover {
        background-color: #EA252C;
    }

    .cart-button:active,
    .order-button:active,
    .payment-button:active {
        background-color: #EA252C;
    }
</style>

</html>